*synapse.txt*    Synapse.nvim Plugin Manager Documentation

SYNAPSE.NVIM                                    *synapse*

A modern, lightweight plugin manager for Neovim with a beautiful UI and 
intelligent dependency management.

==============================================================================
CONTENTS                                                      *synapse-contents*

    1. Introduction ................ |synapse-introduction|
    2. Installation ................ |synapse-installation|
    3. Configuration ................ |synapse-configuration|
    4. Plugin Configuration Files ... |synapse-plugin-config|
    5. Commands ..................... |synapse-commands|
    6. Keymaps ...................... |synapse-keymaps|
    7. Troubleshooting ............... |synapse-troubleshooting|

==============================================================================
INTRODUCTION                                                  *synapse-introduction*

Synapse.nvim is a plugin manager for Neovim that provides:

    - Fast plugin installation with progress tracking
    - Beautiful floating window UI
    - Automatic dependency resolution
    - Auto cleanup of unused plugins
    - Post-install/update command execution
    - Automatic plugin setup from configuration files
    - Import support for loading configurations from non-standard files
    - Support for arbitrary depth nested import structures

==============================================================================
INSTALLATION                                                  *synapse-installation*

Using a Plugin Manager~

If you're using another plugin manager to install Synapse.nvim:

    Using any plugin manager:
>
        {
            "OriginCoderPulse/synapse.nvim",
            config = function()
                require("synapse").setup({})
            end,
        }
<

    Using packer.nvim:
>
        use {
            "OriginCoderPulse/synapse.nvim",
            config = function()
                require("synapse").setup({})
            end,
        }
<

Manual Installation~

1. Clone the repository:
>
        git clone https://github.com/OriginCoderPulse/synapse.nvim.git \
            ~/.config/nvim/lua/synapse
<

2. Add to your Neovim configuration:
>
        require("synapse").setup({})
<

==============================================================================
CONFIGURATION                                                 *synapse-configuration*

Basic Setup~

>
        require("synapse").setup({
            opts = {
                -- Custom plugin installation directory (optional)
                package_path = os.getenv("HOME") .. "/.nvim-utils/package",
                
                -- Directory to scan for .config.lua files (optional)
                -- Default: vim.fn.stdpath("config")
                config_path = vim.fn.stdpath("config"),
            },
            
            -- Import field: Load configurations from non-standard files
            imports = {
                lua = {
                    test = { "config" },  -- Loads config_path/lua/test/config.lua
                },
            },
        })
<

Configuration Options~

opts.package_path (string)~
    Directory where plugins will be installed.
    Default: vim.fn.stdpath("data") .. "/package"

opts.config_path (string)~
    Directory to scan for .config.lua plugin configuration files (recursive).
    Default: vim.fn.stdpath("config")

opts.default (string)~
    Default plugin repository to install.
    Default: "OriginCoderPulse/synapse.nvim"

opts.ui.style (string)~
    UI window style.
    Default: "float"
    Options: "float", "split"

imports (table)~
    Import configurations from non-standard files. Supports arbitrary depth 
    nested structures.
    Format: Nested table structure where keys represent directory paths and 
    values represent filenames.
    Example:
>
        imports = {
            lua = {
                "config1",  -- Loads config_path/lua/config1.lua
                test = {
                    "config2",  -- Loads config_path/lua/test/config2.lua
                    test1 = { "config3" },  -- Loads config_path/lua/test/test1/config3.lua
                },
            },
        }
<
    The above configuration will load:
    1. config_path/lua/config1.lua (from array element at lua level)
    2. config_path/lua/test/config2.lua (from array element at test level)
    3. config_path/lua/test/test1/config3.lua (from nested structure)
    
    Rules:
    - Array elements (numeric keys with string values) are appended directly 
      to the current path
    - String keys create subdirectories and continue recursion
    - Mixed arrays and string keys in the same table are both processed

keys.download (string)~
    Keymap to open plugin installation UI.
    Default: "<leader>si"

keys.remove (string)~
    Keymap to open plugin removal UI.
    Default: "<leader>sr"

keys.upgrade (string)~
    Keymap to open plugin upgrade UI.
    Default: "<leader>su"

==============================================================================
PLUGIN CONFIGURATION FILES                              *synapse-plugin-config*

File Format~

Create .config.lua files in your config_path directory (or subdirectories).
These files support both plugin installation configuration and automatic setup.

IMPORTANT: Only files ending with .config.lua will be recognized and 
automatically processed. For non-standard files, use the imports field in your 
main configuration.

Configuration File Structure~

Each .config.lua file must return a table with the following optional fields:

Required Fields~

repo (string)~
    Plugin repository URL in format "username/repository".
    Example: "nvim-lualine/lualine.nvim"

Installation Configuration Fields~

tag (string)~
    Lock plugin to a specific version tag.
    Example: "v1.2.3"
    Takes precedence over branch.

branch (string)~
    Clone a specific branch.
    Example: "main"
    Only used if tag is not specified.

execute (string|table)~
    Commands to run after installation/update.
    Example (string): "make"
    Example (table): { "make", "cargo build --release" }

primary (string)~
    Custom plugin name for require().
    Use this if the actual require name differs from the extracted name.
    Example: If repo is "username/plugin-name" but you require it as 
    "custom-name", set primary = "custom-name"

depend (table)~
    Plugin dependencies.
    Simple format: { "username/dependency" }
    With configuration:
>
        {
            "username/dependency",
            primary = "custom-name",  -- Optional
            opt = {                   -- Optional: configuration for dependency
                option1 = "value1",
            }
        }
<

Auto-Setup Configuration Fields~

opts (table)~
    Configuration table passed to plugin.setup(opts).
    Automatically calls plugin.setup(opts) if the plugin has a setup function.
    Example:
>
        opts = {
            option1 = "value1",
            option2 = "value2",
        }
<

config (function)~
    Manual setup function.
    Receives the plugin module as a parameter.
    Use this for custom setup logic.
    Example:
>
        config = function(plugin)
            plugin.setup({})
            -- Additional setup code
        end
<

initialization (function)~
    Function executed before plugin.setup().
    Receives a package wrapper that allows accessing plugin submodules.
    Supports arbitrary depth nested structures for accessing submodules.
    Use this to configure plugin submodules before setup.
    Example:
>
        initialization = function(package)
            -- Access submodules: package({ "submodule" }) or package.submodule
            local install = package({ "install" })
            install.prefer_git = true
            
            -- Support for nested structures
            local nested = package({ test = { test1 = { "ok" } } })
        end
<

Configuration Examples~

Basic Plugin Setup~
>
        -- ~/.config/nvim/lua/pkgs/lualine.config.lua
        return {
            repo = "nvim-lualine/lualine.nvim",
            primary = "lualine",
            opts = {
                options = {
                    theme = "auto",
                    icons_enabled = true,
                },
            },
        }
<

Plugin with Manual Setup~
>
        -- ~/.config/nvim/lua/pkgs/autopairs.config.lua
        return {
            repo = "windwp/nvim-autopairs",
            primary = "nvim-autopairs",
            config = function(plugin)
                plugin.setup({})
                -- Additional integration code
            end,
        }
<

Plugin with Initialization~
>
        -- ~/.config/nvim/lua/pkgs/tree-sitter.config.lua
        return {
            repo = "nvim-treesitter/nvim-treesitter",
            primary = "nvim-treesitter",
            initialization = function(package)
                local install = package({ "install" })
                install.prefer_git = true
            end,
            opts = {
                -- Tree-sitter configuration
            },
        }
<

Plugin with Dependencies~
>
        -- ~/.config/nvim/lua/pkgs/mason.config.lua
        return {
            repo = "williamboman/mason.nvim",
            primary = "mason",
            depend = {
                {
                    "williamboman/mason-lspconfig.nvim",
                    primary = "mason-lspconfig",
                    opt = {
                        ensure_installed = { "lua_ls", "pyright" },
                        automatic_installation = true,
                    }
                },
            },
            opts = {
                -- Mason configuration
            },
        }
<

Plugin with Version Lock~
>
        -- ~/.config/nvim/lua/pkgs/versioned.config.lua
        return {
            repo = "username/plugin-name",
            tag = "v1.2.3",
            opts = {
                option1 = "value1",
            },
        }
<

Plugin with Build Commands~
>
        -- ~/.config/nvim/lua/pkgs/compiled.config.lua
        return {
            repo = "username/compiled-plugin",
            execute = {
                "make",
                "cargo build --release",
            },
            opts = {
                option1 = "value1",
            },
        }
<

Using Import Field~
>
        -- ~/.config/nvim/init.lua
        require("synapse").setup({
            opts = {
                config_path = vim.fn.stdpath("config"),
            },
            imports = {
                lua = {
                    test = { "config" },  -- Loads ~/.config/nvim/lua/test/config.lua
                },
            },
        })
        
        -- ~/.config/nvim/lua/test/config.lua (not a .config.lua file)
        return {
            repo = "username/plugin-name",
            opts = {
                option1 = "value1",
            },
        }
<

==============================================================================
COMMANDS                                                      *synapse-commands*

:SynapseDownload~
    Open plugin installation UI.

:SynapseRemove~
    Open plugin removal UI.

:SynapseUpgrade~
    Open plugin upgrade UI.

:SynapseError~
    Show all error messages.

==============================================================================
KEYMAPS                                                       *synapse-keymaps*

Default Keymaps~

    <leader>si    Open plugin installation UI (SynapseDownload)
    <leader>sr    Open plugin removal UI (SynapseRemove)
    <leader>su    Open plugin upgrade UI (SynapseUpgrade)

Customizing Keymaps~

You can customize these keymaps in your configuration:
>
        require("synapse").setup({
            keys = {
                download = "<leader>pi",  -- Custom keymap
                remove = "<leader>pr",
                upgrade = "<leader>pu",
            },
        })
<

==============================================================================
HOW IT WORKS                                              *synapse-how-it-works*

1. Installation: Create .config.lua files in your config_path directory, or 
   use the imports field to load configurations from non-standard files

2. Auto-Setup: On Neovim startup, Synapse scans for .config.lua files and 
   import files, then automatically:
   - Loads plugin configurations
   - Calls plugin.setup(opts) for plugins with opts field
   - Executes config function for plugins with config field
   - Applies dependency configurations

3. Loading Order:
   - Main plugins are set up first
   - Then dependency configurations are applied

==============================================================================
TROUBLESHOOTING                                          *synapse-troubleshooting*

Plugins Not Recognized~

    - Ensure configuration files end with .config.lua and are in config_path 
      directory (supports subdirectories)
    - For non-standard files, use the imports field in your main configuration
    - Check that files return a table with a repo field
    - Verify repo field is not empty

Plugins Not Set Up~

    - Verify the plugin has a setup function if using opts format
    - Check that opts is a table type (not a function)
    - For manual setup, use config function format
    - Ensure the plugin is properly installed before setup

Keymaps Not Working~

    - Verify keymaps are not conflicting with other plugins
    - Check that the setup function was called correctly
    - Try using commands directly: :SynapseDownload, :SynapseRemove, 
      :SynapseUpgrade

==============================================================================
vim:tw=78:ts=8:ft=help:norl:
